<% layout('layout/template') %>

<%
var data_filter = deviceData.filter(e => e.status=="Clinical")
console.log(data_filter)
var numberofsold = 0;
        var numberofdemo = 0;
        var numberofclinical = 0;
        var numberofdevelopment = 0;
        var numberofproduction = 0;
        var numberoftotal = deviceData.length;
        deviceData.map( (e,i)=> {
            if(e.status.toLowerCase()=="sold"){
                numberofsold++;
            } else if (e.status.toLowerCase()=="demo"){
                numberofdemo++;
            } else if (e.status.toLowerCase()=="clinical"){
                numberofclinical++;
            }else if (e.status.toLowerCase()=="development"){
                numberofdevelopment++;
            }else if (e.status.toLowerCase()=="production"){
                numberofproduction++;
            }
        })
%>
<div class="row" style="padding-left: 2rem; padding-right: 1.0rem; margin-top: 0.3rem;">
            <div class="col">
                <div class="card">
                    <div class="head" Style="padding-left: 1rem; padding-right: 1rem; padding-bottom: 1rem;">
                        <div>
							<h3 style="color:#007BFF; font-size: 2rem; padding-top: 0.5rem;">Sold</h3>
							
						</div>
						<div class="progress" style="margin-top: 0.5rem;">
                          <div class="progress-bar" role="progressbar" style="width:<%=(numberofsold / numberoftotal * 100).toFixed(2)%>%; background: #4CC077;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="head" Style="padding-left: 0.2rem; padding-top: 1rem;">
                            <p style="font-size: 1.5rem; color:#696969;"><b><%=(numberofsold / numberoftotal * 100).toFixed(2)%>%</b></p>
                        </div>
                    </div>
                </div>
            </div>
             <div class="col">
                <div class="card">
                    <div class="head" Style="padding-left: 1rem; padding-right: 1rem; padding-bottom: 1rem;">
                        <div>
							<h3 style="color:#007BFF; font-size: 2rem; padding-top: 0.5rem;">Demo</h3>
							
						</div>
						<div class="progress" style="margin-top: 0.5rem;">
                         <div class="progress-bar" role="progressbar" style="width:<%=(numberofdemo / numberoftotal * 100).toFixed(2)%>%; background: #8067B7;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="head" Style="padding-left: 0.2rem; padding-top: 1rem;">
                            <p style="font-size: 1.5rem; color:#696969;"><b><%=(numberofdemo / numberoftotal * 100).toFixed(2)%>%</b></p>
                        </div>
                    </div>
                </div>
            </div>
             <div class="col">
                <div class="card">
                    <div class="head" Style="padding-left: 1rem; padding-right: 1rem; padding-bottom: 1rem;">
                        <div>
							<h3 style="color:#007BFF; font-size: 2rem; padding-top: 0.5rem;">Clinical</h3>
							
						</div>
						<div class="progress" style="margin-top: 0.5rem;">
                         <div class="progress-bar" role="progressbar" style="width:<%=(numberofclinical / numberoftotal * 100).toFixed(2)%>%; background: #EB6F91;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="head" Style="padding-left: 0.2rem; padding-top: 1rem;">
                            <p style="font-size: 1.5rem; color:#696969;"><b><%=(numberofclinical / numberoftotal * 100).toFixed(2)%>%</b></p>
                        </div>
                    </div>
                </div>
            </div>
             <div class="col">
                <div class="card">
                    <div class="head" Style="padding-left: 1rem; padding-right: 1rem; padding-bottom: 1rem;">
                        <div>
							<h3 style="color:#007BFF; font-size: 2rem; padding-top: 0.5rem;">Development</h3>
							
						</div>
						<div class="progress" style="margin-top: 0.5rem;">
                         <div class="progress-bar" role="progressbar" style="width:<%=(numberofdevelopment / numberoftotal * 100).toFixed(2)%>%; background: #7D8DE2;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="head" Style="padding-left: 0.2rem; padding-top: 1rem;">
                            <p style="font-size: 1.5rem; color:#696969;"><b><%=(numberofdevelopment / numberoftotal * 100).toFixed(2)%>%</b></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <div class="head" Style="padding-left: 1rem; padding-right: 1rem; padding-bottom: 1rem;">
                        <div>
							<h3 style="color:#007BFF;  font-size: 2rem; padding-top: 0.5rem;">Production</h3>
						
						</div>
						<div class="progress" style="margin-top: 0.5rem;">
                         <div class="progress-bar" role="progressbar" style="width: <%=(numberofproduction / numberoftotal * 100).toFixed(2)%>%; background: #B4977B;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="head" Style="padding-left: 0.2rem; padding-top: 1rem;">
                            <p style="font-size: 1.5rem; color:#696969;"><b><%=(numberofproduction / numberoftotal * 100).toFixed(2)%>%</b></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>




<div class="container-fluid">
<div class="row" style="padding-left: 2rem; padding-right: 1.0rem; margin-top: 2.0rem;">
    <div class="col-sm-12 col-md-12 col-lg-12">
            <table class="table">
                    <thead style="background-color:#007BFF;">
                        <tr>
                            <th scope="col" style="white-space: nowrap;"><b>MAC ID</b></th>
                            <th scope="col" style="white-space: nowrap;"><b>UUID</b></th>
                            <th scope="col" style="white-space: nowrap;"><b>LOT</b></th>
                            <th scope="col" style="white-space: nowrap;"><b>MODEL</b></th>
                            <th scope="col" style="white-space: nowrap;"><b>STATUS</b></th>
                        </tr>
                    </thead>
                    <tbody id="geeks">
                        <% data_filter.map( (e,i)=> { %>
                            <tr>
                                <td value="<%= e.macId%>" class="macId" style="white-space: nowrap;">
                                    <%= e.macId %>
                                </td>
                                <td  value="<%= e.uuId%>" class="uuId" style="white-space: nowrap;">
                                    <%= e.uuId %>
                                </td>
                                <td value="<%= e.lot%>" class="lot" style="white-space: nowrap;">
                                    <%= e.lot %>
                                </td>
                                <td value="<%= e.model%>" class="model" style="white-space: nowrap;">
                                    <%= e.model %>
                                </td>
                                <td value="<%= e.status%>"  class="status" style="white-space: nowrap;">
                                    <%= e.status%>
                                </td>
                            </tr>
                            <% }) %>
                    </tbody>
                </table>
            </div>
        
        </div>
    </div>
    <script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>
    
    <script>
            $(document).ready(function() {
                $("#gfg").on("keyup", function() {
                    var value = $(this).val().toLowerCase();
                    $("#geeks tr").filter(function() {
                        $(this).toggle($(this).text()
                        .toLowerCase().indexOf(value) > -1)
                    });
                });
            });
        </script>
    